spring.datasource.url=jdbc:postgresql://localhost:5432/ema_ecom
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver
app.jwt.secret=dev-change-me

# Enable migrations and schema validation in dev so DB is created automatically
spring.flyway.enabled=true
spring.flyway.validate-on-migrate=true
spring.flyway.clean-disabled=true
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Allow Hibernate to access JDBC metadata (required when DB is up)
spring.jpa.properties.hibernate.boot.allow_jdbc_metadata_access=true

# HikariCP explicit settings to avoid 'unknown' diagnostics
spring.datasource.hikari.auto-commit=false
spring.datasource.hikari.transaction-isolation=TRANSACTION_READ_COMMITTED
spring.datasource.hikari.minimum-idle=0
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.pool-name=HikariPool

# Don?t fail fast if the DB is unavailable during bean creation
spring.datasource.hikari.initializationFailTimeout=0
